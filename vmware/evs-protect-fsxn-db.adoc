---
sidebar: sidebar 
permalink: vmware/evs-protect-fsxn-db.html 
keywords: Amazon, AWS, EVS, Elastic VMware Service, ONTAP, FSx, iscsi 
summary: 'Questa sezione illustra i passaggi per proteggere i database in esecuzione su VMware VMDK con SnapCenter per SQL (SCSQL).' 
---
= Procedure di protezione per database in esecuzione su VMware VMDK con SnapCenter per SQL (SCSQL)
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
La sezione seguente mostra come proteggere i database in esecuzione su VMware VMDK con SnapCenter for SQL (SCSQL).



== Impostazione di SCSQL

La configurazione per l'utilizzo di SCSQL per proteggere i database sui VMDK è la seguente:

. link:https://docs.netapp.com/us-en/snapcenter/install/task_install_the_snapcenter_server_using_the_install_wizard.html["Installa e configura"] Server SnapCenter.
. Accedi a SnapCenter.
. Configurare l'ambiente SnapCenter:
+
** link:https://docs.netapp.com/us-en/snapcenter/install/task_add_storage_systems.html["Aggiungi o assegna"] connessioni del sistema storage.
** link:https://docs.netapp.com/us-en/snapcenter/install/concept_svm_connections_and_credentials.html["Crea"] credenziali.


. Per i database Microsoft SQL Server su VMware VMDK:
+
** link:https://docs.netapp.com/us-en/snapcenter/install/concept_svm_connections_and_credentials.html["Distribuisci SCV"] (già trattato nella sezione di configurazione).
** Registrare il plug-in con SnapCenter.


. Aggiungi link:https://docs.netapp.com/us-en/snapcenter/protect-scsql/task_add_hosts_and_install_snapcenter_plug_ins_package_for_windows.html["Host SQL Server e installazione dei plug-in"]:
+
** link:https://docs.netapp.com/us-en/snapcenter/protect-scsql/task_add_hosts_and_install_snapcenter_plug_ins_package_for_windows.html["Configurare i plug-in SQL"].
** link:https://docs.netapp.com/us-en/snapcenter/protect-scsql/task_create_backup_policies_for_sql_server_databases.html["Configura il piano di protezione e le pianificazioni per database e log"].
+
image:evs-protect-fsxn-027.png["Figura che rappresenta il dialogo per il passaggio precedente"]







== Impostazione di una policy di backup

I passaggi seguenti mostreranno come impostare una policy di backup.

. Selezionare il database dalla scheda Risorse e selezionare "Protect" nell'angolo in alto a destra.
+

NOTE: Le convalide vengono eseguite su un database SQL Server in esecuzione sulla VM guest.

+
image:evs-protect-fsxn-028.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Fare clic sull'icona del segno più per configurare una policy di backup di SQL Server.
+
image:evs-protect-fsxn-029.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. In questa demo, "Backup completo" è selezionato. Selezionare "Avanti" per continuare.
+
image:evs-protect-fsxn-030.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Nella pagina Summary, seleziona "Finish".
+
image:evs-protect-fsxn-031.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Procedi su "Fine".
+
image:evs-protect-fsxn-032.png["Figura che rappresenta il dialogo per il passaggio precedente"]





== Monitoraggio di un backup

Una volta impostata una policy di backup, puoi monitorare le operazioni di backup mentre avvengono. Puoi farlo cliccando su Backup now per avviare un'operazione di backup su richiesta oppure attendendo che la tua policy di backup pianificata entri in funzione.

. Monitorare l'avanzamento del lavoro utilizzando "Monitor > Jobs".
. Seleziona il processo di backup, quindi fai clic su "Dettagli" per visualizzare i dettagli del processo come di seguito.
+
image:evs-protect-fsxn-033.png["Figura che rappresenta il dialogo per il passaggio precedente"]





== Ripristino dei database residenti sui VMDK

Il database sul VMDK può essere ripristinato a un punto specifico nel tempo.

Possiamo simulare l'importanza di questo eliminando alcune tabelle nel tuo database, che verranno poi corrette eseguendo un rispristino point-in-time.

Qui sotto puoi vedere che diverse tabelle del nostro database mostrate nel primo screenshot sono state eliminate nel secondo screenshot:

image:evs-protect-fsxn-034.png["Figura che rappresenta il dialogo per il passaggio precedente"]

image:evs-protect-fsxn-035.png["Figura che rappresenta il dialogo per il passaggio precedente"]

I passaggi seguenti mostrano come eseguire un ripristino per recuperare le tabelle eliminate:

. Seleziona il database dal gruppo di risorse.
+
image:evs-protect-fsxn-036.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Nella pagina Restore, seleziona l'opzione "Restore the database to the same host where the backup was created".
+
image:evs-protect-fsxn-037.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Selezionare l'opzione per utilizzare un backup del log fino a un punto nel tempo.
+
image:evs-protect-fsxn-038.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Selezionare "Sovrascrivi database con lo stesso nome durante il restore, crea un backup del transaction log prima del restore" e selezionare "Next".
+
image:evs-protect-fsxn-039.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Selezionare lo stato post-ripristino che si desidera venga assunto dal database dall'elenco delle opzioni e selezionare "Avanti".
+
image:evs-protect-fsxn-040.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Nella pagina di riepilogo, seleziona "Finish".
+
image:evs-protect-fsxn-041.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Monitora il lavoro fino al completamento.
+
image:evs-protect-fsxn-042.png["Figura che rappresenta il dialogo per il passaggio precedente"]

. Verificare che le tabelle eliminate siano state ripristinate correttamente.
+
image:evs-protect-fsxn-043.png["Figura che rappresenta il dialogo per il passaggio precedente"]


